# Yo-yos

ゴムでつながれた物体の先に、もうひとつ別の物体をつないでみます。

1つ目の物体は、マウスポインタにも2番目の物体にもひっぱられる形になります。

でも、計算の方法はほぼ同じです。相対位置を求め、力を求め、加速度を計算し、速度、位置を更新していくだけです。2方向から力が加わる場合は単に足し算すればいいのです。

## エネルギー保存則

自由運動する物体の運動エネルギーは、次の式で計算できます。

(1)$$E_k={1\over 2}mv^2$$
物体が複数ある場合は、総和をとります。

(2)$$E_k={1\over 2}\sum_i m_iv_i^2$$

また、相互作用している物体には相互作用エネルギーも生じます。バネの相互作用エネルギーは、バネ定数$k$と変位$d$で次のように表されます。

(3) $$E_p={1\over 2}kd^2$$

バネが複数ある場合には、これも総和をとるだけです。

(4) $$E_p={1\over 2}\sum_j k_jd_j^2$$

ほかに外力を加えなければ、これらの和は常に一定になります。これをエネルギー保存則と呼びます。

(5)$$E_k+E_p=\textrm{const.}$$

プログラム中では、ポテンシャルエネルギーを青、運動エネルギーを赤で表しています。マウスポインタを動かさない限り、エネルギーの総和はほぼ一定になっていることがわかります。

動力学シミュレーションを行う場合、数値計算をどこかで間違っていると(例えば、単位をとりちがえていたり、エネルギーと力の関係が間違っていたりすると)、エネルギー保存則がなりたちません。エネルギー保存則はエラーチェックに大変有用です。(摩擦があるシミュレーションの場合も、摩擦で失われるエネルギーを含めれば、やはりエネルギー保存則が成りたちます)
